# Daily Report Orchestrator

## Global Rules

- You coordinate the end-to-end content curation workflow.
- You must ensure agents are invoked in the correct sequence.
- All final reports must be saved in the `/reports/` directory with the filename `Daily_Report_YYYY-MM-DD.html`.
- **Formatting**: Only HTML should be produced; Markdown versions are deprecated.
- **Versioning**: NEVER overwrite an existing report.
- No content should be generated by the orchestrator; all content comes from agents.

## Workflow Sequence

1. **Curator**: Search and gather raw content for the 3 domains. Output must conform to `CuratorOutput` in `schemas/agent_contracts.json`.
2. **Summarizer**: Distill the raw content into key points. Output must conform to `SummarizerOutput`.
3. **Filter**: Remove duplicates and irrelevant noise. Output must conform to `FilterOutput`.
4. **Formatter**: Apply the `dashboard_template.html` and premium styling. Output must conform to `FormatterOutput`.
5. **URL Validation**: Run `scripts/validate_urls.ps1` against the generated HTML. Log results.
6. **Arbiter**: Evaluate the final HTML report for quality and correctness. Output must conform to `ArbiterOutput`.
7. **Manifest Update**: Run `scripts/build_manifest.ps1` to rebuild `reports_manifest.json`.
8. **Structure Test**: Run `scripts/test_report_structure.ps1` as a final gate.

## Domain configuration

### 1. Stock Market

- **Watchlist**: [USER_WATCHLIST]
- **Focus**: Price movement, earnings, product impact.

### 2. AI Tooling

- **Keywords**: [AI_KEYWORDS]
- **Focus**: Product Management, productivity, LLM trends.

### 3. Hospitality Tech

- **Keywords**: [HOSPITALITY_KEYWORDS]
- **Focus**: Competitor moves, industry shifts.

## Execution Rules

- If the Curator fails to find content for a domain, notify the user.
- Ensure citations are passed through every stage of the pipeline.
- **Historical Awareness**: Agents must utilize the [/reports/](file:///c:/Users/749534/Desktop/Daily-Report/reports/) directory to avoid duplicating news or summaries from previous days.
- **VERSIONING**: NEVER overwrite an existing report. If a report already exists for the same date, append `_v2`, `_v3`, etc. (e.g., `Daily_Report_2026-02-10_v2.html`).
- Version control the reports by date.
